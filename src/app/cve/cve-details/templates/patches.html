<app-spinner *ngIf="isLoading==true"></app-spinner>
<div *ngIf="!isLoading">
    <div *ngFor="let item of patches;let i=index;" class="steps bg-creamy border  mb-5 ">
        <div class="row  header mb-0" >
            <div class="col-md-12 py-1 px-1">
                <h4 class="w-100 ">
                    <a class="w-100 border border-danger" [href]="'#'+item.commitSha" data-bs-toggle="collapse" aria-expanded="false"  class="dropdown-toggle">
                        <span class="px-2">{{i+1 }}. </span><span class="text-secondary">{{item.commitSha}}</span>
                    </a>
                </h4>
            </div>
        </div>
        <div class="collapse " [ngClass]="{'show':i==0}" [id]="item.commitSha">
            <table id="summary" class="table table-bordered  border-secondary-subtle border-0 my-0">
    
                <tbody>
                    <tr >
                        <th class="w-25 pl-1 m-0" style="font-size: 13px;">Commit Sha</th>
                        <td colspan="3">
                            {{item.commitSha}} 
                        </td>
                    </tr>
                    <tr >
                        <th  class="w-25 pl-1 m-0">Commit Message</th>
                        <td colspan="3" class=""><pre>{{item.commitMessage}}</pre></td>
                    </tr>
                    <tr >
                        <th class="w-25 pl-1 m-0">Source Url</th>
                        <td colspan="3" class="text-primary" style="font-size: 14px;">
                            <a [href]="item.sourceUrl.sourceUrl" target="_blank" >{{item.sourceUrl.sourceUrl}}</a>
                        </td>
                    </tr>
                    <tr >
                        <th class="w-25 pl-1 m-0 ">Commit Date</th>
                        <td ><i class="fa fa-calendar-alt text-secondary pr-2"></i>{{item.commitDate| date: 'MM/dd/y'}}</td>
                        <th class="w-25 pl-1 m-0 ">Date Published</th>
                        <td ><i class="fa fa-calendar-alt text-secondary pr-2"></i>{{item.timeToPatch}}</td>
                    </tr>
                    <tr>
                        <th class="w-25 pl-1 m-0">Uni Diff</th>
                        <td colspan="3" class="bg-success-subtle" >
                            <code style="font-size:13px !important;"><pre>
                                {{item.uniDiff}}
                            </pre>
                        </code>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<app-no-data
    *ngIf="!isLoading && this.patches.length==0"
    message="We could not find any Patches related to this CVE !"
></app-no-data>
