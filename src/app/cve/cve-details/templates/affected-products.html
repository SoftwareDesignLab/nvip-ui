<app-spinner *ngIf="isLoading"></app-spinner>
<div *ngIf="!isLoading">
    <div
        *ngFor="let item of affectedProducts;let i=index;"
        class="steps bg-creamy border mb-5"
    >
        <div class="row header mb-0">
            <div class="col-md-12 py-1 px-1">
                <h4 class="w-100">
                    <a
                        class="w-100 border border-danger"
                        [href]="'#'+item.affectedProductId"
                        data-bs-toggle="collapse"
                        aria-expanded="false"
                        class="dropdown-toggle"
                    >
                        <span class="px-2">{{i+1 }}. </span
                        ><span class="text-secondary"
                            >{{item.productName}}</span
                        >
                    </a>
                </h4>
            </div>
        </div>
        <div class="collapse" [id]="item.affectedProductId">
            <table
                id="summary"
                class="table table-bordered border-secondary-subtle border-0 my-0"
            >
                <tbody>
                    <tr>
                        <th class="w-25 pl-1 m-0">Product Name</th>
                        <td class="w-75" colspan="3" class="text-capitalize">
                            {{item.productName}}
                        </td>
                    </tr>
                    <tr>
                        <th class="w-25 pl-1 m-0">Cpe</th>
                        <td colspan="3" style="font-size: 14px">
                            {{item.cpe}}
                        </td>
                    </tr>
                    <tr>
                        <th class="w-25 pl-1 m-0">Vendor</th>
                        <td>{{item.vendor}}</td>
                        <th class="w-25 pl-1 m-0">Version</th>
                        <td class="w-25">{{item.version}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<app-no-data
    *ngIf="!isLoading && this.affectedProducts.length==0"
    message="We could not find any products related to this CVE!"
></app-no-data>
